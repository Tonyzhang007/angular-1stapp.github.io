{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/auth/auth-interceptor.service.ts","webpack:///src/app/auth/auth.component.ts","webpack:///src/app/auth/auth.component.html","webpack:///src/app/auth/auth.guard.ts","webpack:///src/app/auth/auth.model.ts","webpack:///src/app/auth/auth.module.ts","webpack:///src/app/auth/auth.service.ts","webpack:///src/app/core.module.ts","webpack:///src/app/header/header.component.ts","webpack:///src/app/header/header.component.html","webpack:///src/app/logging.service.ts","webpack:///src/app/recipes/recipe.service.ts","webpack:///src/app/shared/alert/alert.component.ts","webpack:///src/app/shared/alert/alert.component.html","webpack:///src/app/shared/data-storage.service.ts","webpack:///src/app/shared/dropdown.directive.ts","webpack:///src/app/shared/ingredient.model.ts","webpack:///src/app/shared/loading-spinner/loading-spinner.component.ts","webpack:///src/app/shared/placeholder/placeholder.directive.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/shopping-list/shopping-list.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","appRoutes","path","redirectTo","pathMatch","loadChildren","m","RecipesModule","ShoppingListModule","AppRoutingModule","forRoot","imports","AppComponent","authService","loggingService","loadedFeature","autoLogin","printLog","feature","selector","templateUrl","styleUrls","AppModule","declarations","providers","bootstrap","entryComponents","AuthInterceptorService","next","user","pipe","handle","modifiedReq","clone","params","set","token","AuthComponent","router","componentFactoryResolver","isLoginMode","isLoading","error","form","valid","email","value","password","authObs","login","signup","subscribe","resData","console","log","navigate","errorMessage","showErrorAlert","reset","closeSub","unsubscribe","message","alertCmpFactory","resolveComponentFactory","hostViewContainerRef","alertHost","viewContainerRef","clear","componentRef","createComponent","instance","close","AuthGuard","route","state","isAuth","createUrlTree","User","_token","_tokenExpiration","Date","AuthModule","forChild","component","AuthService","http","post","firebaseAPIKey","returnSecureToken","handleError","handleAuthentication","localId","idToken","expiresIn","userData","JSON","parse","localStorage","getItem","loaderUser","_tokenExpirationData","expirationDuration","getTime","autoLogout","removeItem","tokenExpirationTimer","clearTimeout","setTimeout","logout","userId","expirationDate","setItem","stringify","errorRes","CoreModule","provide","useClass","multi","HeaderComponent","dataStorageService","isAuthenticated","userSub","storeRecipes","fetchRecipes","LoggingService","lastlog","RecipeService","slService","recipesChanged","recipes","slice","index","ingredients","addIngredients","recipe","push","newRecipe","splice","AlertComponent","emit","onClose","DataStorageService","recipeService","getRecipes","put","response","get","map","setRecipes","providedIn","DropdownDirective","isOpen","Ingredient","name","amount","LoadingSpinnerComponent","template","PlaceholderDirective","SharedModule","ShoppingListService","ingredientsChanged","startedEditing","ingredient","newIngredient","environment","production","bootstrapModule","err"],"mappings":";;;;;;;;;;;;;;;;;IAAA,SAASA,wBAAwB,CAACC,GAAG,EAAE;MACtC;MACA;MACA,OAAOC,OAAO,CAACC,OAAO,EAAE,CAACC,IAAI,CAAC,YAAW;QACxC,IAAIC,CAAC,GAAG,IAAIC,KAAK,CAAC,sBAAsB,GAAGL,GAAG,GAAG,GAAG,CAAC;QACrDI,CAAC,CAACE,IAAI,GAAG,kBAAkB;QAC3B,MAAMF,CAAC;MACR,CAAC,CAAC;IACH;IACAL,wBAAwB,CAACQ,IAAI,GAAG,YAAW;MAAE,OAAO,EAAE;IAAE,CAAC;IACzDR,wBAAwB,CAACG,OAAO,GAAGH,wBAAwB;IAC3DS,MAAM,CAACC,OAAO,GAAGV,wBAAwB;IACzCA,wBAAwB,CAACW,EAAE,GAAG,yCAAyC;;;;;;;;;;;;;;ICZvE;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAGA,IAAMC,SAAS,GAAW,CACxB;MAAEC,IAAI,EAAE,EAAE;MAAEC,UAAU,EAAE,UAAU;MAAEC,SAAS,EAAE;IAAO,CAAC;IACvD;IACA;IACA;IACA;IACA;MACEF,IAAI,EAAE,SAAS;MACfG,YAAY,EAAE;QAAA,OAAM,mMAAkC,CAACZ,IAAI,CAAC,UAAAa,CAAC;UAAA,OAAIA,CAAC,CAACC,aAAa;QAAA,EAAC;MAAA;KAClF,EACD;MACEL,IAAI,EAAE,eAAe;MACrBG,YAAY,EAAE;QAAA,OAAM,mPAA8C,CAACZ,IAAI,CAAC,UAAAa,CAAC;UAAA,OAAIA,CAAC,CAACE,kBAAkB;QAAA,EAAC;MAAA;KACnG,CAGF;IAAC,IAOWC,gBAAgB;MAAA;IAAA;;YAAhBA;IAAiB,CAAD;;;yBAAhBA,gBAAgB;MAAA;MAAA,UAHlB,CAAC,4DAAY,CAACC,OAAO,CAACT,SAAS,CAAC,CAAC,EAChC,4DAAY;IAAA;;0HAEXQ,gBAAgB;QAAA;QAAA,UAFjB,4DAAY;MAAA;IAAA;;;sEAEXA,gBAAgB;cAL5B,sDAAQ;eAAC;UACR;UACAE,OAAO,EAAE,CAAC,4DAAY,CAACD,OAAO,CAACT,SAAS,CAAC,CAAC;UAC1CF,OAAO,EAAE,CAAC,4DAAY;SACvB;;;;;;;;;;;;;;;;ICvBD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA,IAOaa,YAAY;MAGvB,sBACUC,WAAwB,EACxBC,cAA8B;QAAA;QAD9B,KAAAD,WAAW,GAAXA,WAAW;QACX,KAAAC,cAAc,GAAdA,cAAc;QAJxB,KAAAC,aAAa,GAAG,QAAQ;MAKpB;MAAC;QAAA;QAAA,OAEL,oBAAQ;UACN,IAAI,CAACF,WAAW,CAACG,SAAS,EAAE;UAC5B,IAAI,CAACF,cAAc,CAACG,QAAQ,CAAC,kCAAkC,CAAC;QAClE;MAAC;QAAA;QAAA,OAED,oBAAWC,OAAe,EAAE;UAC1B,IAAI,CAACH,aAAa,GAAGG,OAAO;QAC9B;MAAC;MAAA;IAAA;;uBAfUN,YAAY;IAAA;;YAAZA,YAAY;MAAA;MAAA;MAAA;MAAA;MAAA;QAAA;UCTzB,wEAAyB;UAEzB,yEACE;UAAA,yEACE;UAAA,yEACE;UAAA,2EAA+B;UACjC,4DAAM;UACR,4DAAM;UACR,4DAAM;;;;;;;;sEDCOA,YAAY;cALxB,uDAAS;eAAC;UACTO,QAAQ,EAAE,UAAU;UACpBC,WAAW,EAAE,sBAAsB;UACnCC,SAAS,EAAE,CAAC,qBAAqB;SAClC;;;;;;;;;;;;;;;;;;;;;;IEPD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA,IAoCaC,SAAS;MAAA;IAAA;;YAATA,SAAS;MAAA,YALR,2DAAY;IAAA;;;yBAKbA,SAAS;MAAA;MAAA,WART,EAEV;MAAA,UAZQ,CACP,uEAAa,EACb,0DAAW,EACX,qEAAgB,EAChB,oEAAgB,EAChB,kEAAY,EACZ,uDAAU,EACV,6DAAU,CAEX;IAAA;;0HASUA,SAAS;QAAA,eArBlB,2DAAY,EACZ,wEAAe;QAAA,UAGf,uEAAa,EACb,0DAAW,EACX,qEAAgB,EAChB,oEAAgB,EAChB,kEAAY,EACZ,uDAAU,EACV,6DAAU;MAAA;IAAA;;;sEAWDA,SAAS;cAvBrB,sDAAQ;eAAC;UACRC,YAAY,EAAE,CACZ,2DAAY,EACZ,wEAAe,CAChB;UACDZ,OAAO,EAAE,CACP,uEAAa,EACb,0DAAW,EACX,qEAAgB,EAChB,oEAAgB,EAChB,kEAAY,EACZ,uDAAU,EACV,6DAAU,CAEX;UACDa,SAAS,EAAE,EAEV;UACDC,SAAS,EAAE,CAAC,2DAAY,CAAC;UACzBC,eAAe,EAAE,CACf,4EAAc;SAEjB;;;;;;;;;;;;;;;;ICnCD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA,IAKaC,sBAAsB;MAEjC,gCACUd,WAAwB;QAAA;QAAxB,KAAAA,WAAW,GAAXA,WAAW;MACjB;MAAC;QAAA;QAAA,OAEL,mBAAUvB,GAAqB,EAAEsC,IAAiB,EAAE;UAClD,OAAO,IAAI,CAACf,WAAW,CAACgB,IAAI,CAACC,IAAI,CAC/B,2DAAI,CAAC,CAAC,CAAC,EACP,iEAAU,CAAC,UAAAD,IAAI,EAAI;YACjB,IAAI,CAACA,IAAI,EAAE;cACT,OAAOD,IAAI,CAACG,MAAM,CAACzC,GAAG,CAAC;;YAEzB,IAAM0C,WAAW,GAAG1C,GAAG,CAAC2C,KAAK,CAAC;cAC5BC,MAAM,EAAE,IAAI,+DAAU,EAAE,CAACC,GAAG,CAAC,MAAM,EAAEN,IAAI,CAACO,KAAK;aAChD,CAAC;YACF,OAAOR,IAAI,CAACG,MAAM,CAACC,WAAW,CAAC;UACjC,CAAC,CAAC,CACH;QACH;MAAC;MAAA;IAAA;;uBAnBUL,sBAAsB;IAAA;;aAAtBA,sBAAsB;MAAA,SAAtBA,sBAAsB;IAAA;;;sEAAtBA,sBAAsB;cADlC;;;;;;;;;;;;;;;;;;;;ICJD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;;;QCWI,yEACE;QAAA,iFAA2C;QAC7C,4DAAM;;;;;;QAEN,6EAEE;QAFuB;UAAA;UAAA;UAAA;UAAA;QAAA,EAA+B;QAEtD,yEACE;QAAA,2EAAoB;QAAA,mEAAO;QAAA,4DAAQ;QACnC,uEAMF;QAAA,4DAAM;QAEN,yEACE;QAAA,4EAAuB;QAAA,qEAAS;QAAA,4DAAQ;QACxC,uEAKF;QAAA,4DAAM;QAEN,uEACE;QAAA,8EACE;QAAA,wDACF;QAAA,4DAAS;QAAC,+DACV;QAAA,8EACE;QADgC;UAAA;UAAA;UAAA;QAAA,EAAwB;QACxD,wDACF;QAAA,4DAAS;QACX,4DAAM;QAER,4DAAO;;;;;QAR2C,2DAA4B;QAA5B,gFAA4B;QACxE,0DACF;QADE,oHACF;QAEE,0DACF;QADE,8HACF;;;;QD7BKU,aAAa;MAQxB,uBACUxB,WAAwB,EACxByB,MAAc,EACdC,wBAAkD;QAAA;QAFlD,KAAA1B,WAAW,GAAXA,WAAW;QACX,KAAAyB,MAAM,GAANA,MAAM;QACN,KAAAC,wBAAwB,GAAxBA,wBAAwB;QAVlC,KAAAC,WAAW,GAAG,IAAI;QAClB,KAAAC,SAAS,GAAG,KAAK;QACjB,KAAAC,KAAK,GAAW,EAAE;MASd;MAAC;QAAA;QAAA,OAEL,oBAAW,CACX;MAAC;QAAA;QAAA,OAED,wBAAe;UACb,IAAI,CAACF,WAAW,GAAG,CAAC,IAAI,CAACA,WAAW;QACtC;MAAC;QAAA;QAAA,OAED,kBAASG,IAAY,EAAE;UAAA;UACrB;UACA,IAAI,CAACA,IAAI,CAACC,KAAK,EAAE;YACf;;UAEF,IAAMC,KAAK,GAAGF,IAAI,CAACG,KAAK,CAACD,KAAK;UAC9B,IAAME,QAAQ,GAAGJ,IAAI,CAACG,KAAK,CAACC,QAAQ;UAEpC,IAAIC,OAAqC;UAEzC,IAAI,CAACP,SAAS,GAAG,IAAI;UAErB,IAAI,IAAI,CAACD,WAAW,EAAE;YACpBQ,OAAO,GAAG,IAAI,CAACnC,WAAW,CAACoC,KAAK,CAACJ,KAAK,EAAEE,QAAQ,CAAC;WAClD,MAAM;YACLC,OAAO,GAAG,IAAI,CAACnC,WAAW,CAACqC,MAAM,CAACL,KAAK,EAAEE,QAAQ,CAAC;;UAGpDC,OAAO,CAACG,SAAS,CAAC,UAAAC,OAAO,EAAI;YAC3BC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;YACpB,KAAI,CAACX,SAAS,GAAG,KAAK;YACtB,KAAI,CAACH,MAAM,CAACiB,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;UACpC,CAAC,EAAE,UAAAC,YAAY,EAAI;YACjBH,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEE,YAAY,CAAC;YAClC,KAAI,CAACd,KAAK,GAAGc,YAAY;YACzB,KAAI,CAACC,cAAc,CAACD,YAAY,CAAC;YACjC,KAAI,CAACf,SAAS,GAAG,KAAK;UAExB,CAAC,CAAC;UACFE,IAAI,CAACe,KAAK,EAAE;QACd;MAAC;QAAA;QAAA,OAED,yBAAgB;UACd,IAAI,CAAChB,KAAK,GAAG,IAAI;QACnB;MAAC;QAAA;QAAA,OAED,uBAAc;UACZ,IAAI,IAAI,CAACiB,QAAQ,EAAE;YACjB,IAAI,CAACA,QAAQ,CAACC,WAAW,EAAE;;QAE/B;MAAC;QAAA;QAAA,OAEO,wBAAeC,OAAe,EAAE;UAAA;UACtC,IAAMC,eAAe,GAAG,IAAI,CAACvB,wBAAwB,CAACwB,uBAAuB,CAC3E,4EAAc,CACf;UACD,IAAMC,oBAAoB,GAAG,IAAI,CAACC,SAAS,CAACC,gBAAgB;UAC5DF,oBAAoB,CAACG,KAAK,EAAE;UAE5B,IAAMC,YAAY,GAAGJ,oBAAoB,CAACK,eAAe,CAACP,eAAe,CAAC;UAC1EM,YAAY,CAACE,QAAQ,CAACT,OAAO,GAAGA,OAAO;UACvC,IAAI,CAACF,QAAQ,GAAGS,YAAY,CAACE,QAAQ,CAACC,KAAK,CAACpB,SAAS,CAAC,YAAM;YAC1D,MAAI,CAACQ,QAAQ,CAACC,WAAW,EAAE;YAC3BI,oBAAoB,CAACG,KAAK,EAAE;UAC9B,CAAC,CAAC;QACJ;MAAC;MAAA;IAAA;;uBA5EU9B,aAAa;IAAA;;YAAbA,aAAa;MAAA;MAAA;QAAA;0EAIb,8FAAoB,EAAE,IAAF;;;;;;;;;;;;UClBjC,yEACE;UAAA,yEAEE;UASA,yGACE;UAGF,4GAEE;UA8BJ,4DAAM;UACR,4DAAM;UAEN,yHAA4B;;;UAvCnB,0DAAiB;UAAjB,+EAAiB;UAImC,0DAAkB;UAAlB,gFAAkB;;;;;;;;sEDFlEA,aAAa;cALzB,uDAAS;eAAC;UACTlB,QAAQ,EAAE,UAAU;UACpBC,WAAW,EAAE,uBAAuB;UACpCC,SAAS,EAAE,CAAC,sBAAsB;SACnC;;;;;;;;;;;gBAKE,uDAAS;iBAAC,8FAAoB,EAAE;YAAE,UAAQ;UAAK,CAAC;;;;;;;;;;;;;;;;;IElBnD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA,IAQamD,SAAS;MAEpB,mBACU3D,WAAwB,EACxByB,MAAc;QAAA;QADd,KAAAzB,WAAW,GAAXA,WAAW;QACX,KAAAyB,MAAM,GAANA,MAAM;MACZ;MAAC;QAAA;QAAA,OAEL,qBACEmC,KAA6B,EAC7BC,KAA0B;UAAA;UAK1B,OAAO,IAAI,CAAC7D,WAAW,CAACgB,IAAI,CAACC,IAAI,CAC/B,2DAAI,CAAC,CAAC,CAAC,EACP,0DAAG,CAAC,UAAAD,IAAI,EAAI;YACV,IAAM8C,MAAM,GAAG,CAAC,CAAC9C,IAAI;YACrB,IAAI8C,MAAM,EAAE;cACV,OAAO,IAAI;;YAEb,OAAO,MAAI,CAACrC,MAAM,CAACsC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC;UAC7C,CAAC;UACD;UACA;UACA;UACA;UACA;UAAA,CACD;QACH;MAAC;MAAA;IAAA;;uBA7BUJ,SAAS;IAAA;;aAATA,SAAS;MAAA,SAATA,SAAS;IAAA;;;sEAATA,SAAS;cADrB;;;;;;;;;;;;;;;;;;;;;;ICND;IAAA;IAAA;MAAA;IAAA;IAAA,IAAaK,IAAI;MACf,cACShC,KAAa,EACb7C,EAAU,EACT8E,MAAc,EACdC,gBAAsB;QAAA;QAHvB,KAAAlC,KAAK,GAALA,KAAK;QACL,KAAA7C,EAAE,GAAFA,EAAE;QACD,KAAA8E,MAAM,GAANA,MAAM;QACN,KAAAC,gBAAgB,GAAhBA,gBAAgB;MACtB;MAAC;QAAA;QAAA,KAEL,eAAY;UACV,IAAI,CAAC,IAAI,CAACA,gBAAgB,IAAI,IAAIC,IAAI,EAAE,GAAG,IAAI,CAACD,gBAAgB,EAAE;YAChE,OAAO,IAAI;;UAEb,OAAO,IAAI,CAACD,MAAM;QACpB;MAAC;MAAA;IAAA;;;;;;;;;;;;ICdH;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA,IAuBaG,UAAU;MAAA;IAAA;;YAAVA;IAAW,CAAD;;;yBAAVA,UAAU;MAAA;MAAA,UAXZ,CACP,uDAAU,EACV,kEAAY,EACZ,4DAAY,EACZ,0DAAW,EACX,4DAAY,CAACC,QAAQ,CAAC,CACpB;QAAEhF,IAAI,EAAE,MAAM;QAAEiF,SAAS,EAAE;MAAc,CAAC,CAC3C,CAAC,CACH;IAAA;;0HAGUF,UAAU;QAAA,eAbnB,6DAAa;QAAA,UAGb,uDAAU,EACV,kEAAY,EACZ,4DAAY,EACZ,0DAAW;MAAA;IAAA;;;sEAOFA,UAAU;cAftB,sDAAQ;eAAC;UACR1D,YAAY,EAAE,CACZ,6DAAa,CACd;UACDZ,OAAO,EAAE,CACP,uDAAU,EACV,kEAAY,EACZ,4DAAY,EACZ,0DAAW,EACX,4DAAY,CAACuE,QAAQ,CAAC,CACpB;YAAEhF,IAAI,EAAE,MAAM;YAAEiF,SAAS,EAAE;UAAc,CAAC,CAC3C,CAAC;SAGL;;;;;;;;;;;;;;;;ICtBD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA,IAkBaC,WAAW;MAKtB,qBACUC,IAAgB;QAAA;QAAhB,KAAAA,IAAI,GAAJA,IAAI;QAJd,KAAAxD,IAAI,GAAG,IAAI,oDAAe,CAAO,IAAI,CAAC;MAKlC;MAEJ;MAAA;QAAA;QAAA,OACA,gBAAOgB,KAAa,EAAEE,QAAgB,EAAE;UAAA;UACtC,OAAO,IAAI,CAACsC,IAAI,CAACC,IAAI,CACnB,gEAAgE,GAAG,wEAAW,CAACC,cAAc,EAC7F;YACE1C,KAAK,EAAEA,KAAK;YACZE,QAAQ,EAAEA,QAAQ;YAClByC,iBAAiB,EAAE;WACpB,CACF,CACE1D,IAAI,CACH,iEAAU,CAAC,IAAI,CAAC2D,WAAW,CAAC,EAC5B,0DAAG,CAAC,UAAArC,OAAO,EAAI;YACb,MAAI,CAACsC,oBAAoB,CACvBtC,OAAO,CAACP,KAAK,EACbO,OAAO,CAACuC,OAAO,EACfvC,OAAO,CAACwC,OAAO,EACf,CAACxC,OAAO,CAACyC,SAAS,CACnB;UACH,CAAC,CAAC,CACH;QACL;QAEA;MAAA;QAAA;QAAA,OACA,eAAMhD,KAAa,EAAEE,QAAgB,EAAE;UAAA;UACrC,OAAO,IAAI,CAACsC,IAAI,CAACC,IAAI,CAAmB,4EAA4E,GAAG,wEAAW,CAACC,cAAc,EAC/I;YACE1C,KAAK,EAAEA,KAAK;YACZE,QAAQ,EAAEA,QAAQ;YAClByC,iBAAiB,EAAE;WACpB,CACF,CACE1D,IAAI,CACH,iEAAU,CAAC,IAAI,CAAC2D,WAAW,CAAC,EAC5B,0DAAG,CAAC,UAAArC,OAAO,EAAI;YACb,MAAI,CAACsC,oBAAoB,CACvBtC,OAAO,CAACP,KAAK,EACbO,OAAO,CAACuC,OAAO,EACfvC,OAAO,CAACwC,OAAO,EACf,CAACxC,OAAO,CAACyC,SAAS,CACnB;UACH,CAAC,CAAC,CAAC;QACT;QAEA;MAAA;QAAA;QAAA,OACA,qBAAY;UACV,IAAMC,QAAQ,GAKVC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;UAEhD,IAAI,CAACJ,QAAQ,EAAE;YACb;;UAGF,IAAMK,UAAU,GAAG,IAAI,gDAAI,CACzBL,QAAQ,CAACjD,KAAK,EACdiD,QAAQ,CAAC9F,EAAE,EACX8F,QAAQ,CAAChB,MAAM,EACf,IAAIE,IAAI,CAACc,QAAQ,CAACM,oBAAoB,CAAC,CACxC;UAED,IAAID,UAAU,CAAC/D,KAAK,EAAE;YACpB,IAAI,CAACP,IAAI,CAACD,IAAI,CAACuE,UAAU,CAAC;YAC1B,IAAME,kBAAkB,GAAG,IAAIrB,IAAI,CAACc,QAAQ,CAACM,oBAAoB,CAAC,CAACE,OAAO,EAAE,GAAG,IAAItB,IAAI,EAAE,CAACsB,OAAO,EAAE;YACnG,IAAI,CAACC,UAAU,CAACF,kBAAkB,CAAC;;QAEvC;QAEA;MAAA;QAAA;QAAA,OACA,kBAAS;UACP,IAAI,CAACxE,IAAI,CAACD,IAAI,CAAC,IAAI,CAAC;UACpBqE,YAAY,CAACO,UAAU,CAAC,UAAU,CAAC;UACnC,IAAI,IAAI,CAACC,oBAAoB,EAAE;YAC7BC,YAAY,CAAC,IAAI,CAACD,oBAAoB,CAAC;;UAEzC,IAAI,CAACA,oBAAoB,GAAG,IAAI;QAClC;QAEA;MAAA;QAAA;QAAA,OACA,oBAAWJ,kBAA0B,EAAE;UAAA;UACrChD,OAAO,CAACC,GAAG,CAAC+C,kBAAkB,CAAC;UAC/B,IAAI,CAACI,oBAAoB,GAAGE,UAAU,CAAC,YAAM;YAC3C,MAAI,CAACC,MAAM,EAAE;UACf,CAAC,EAAEP,kBAAkB,CAAC;QACxB;MAAC;QAAA;QAAA,OAEO,8BACNxD,KAAa,EACbgE,MAAc,EACdzE,KAAa,EACbyD,SAAiB;UAEjB,IAAMiB,cAAc,GAAG,IAAI9B,IAAI,CAAC,IAAIA,IAAI,EAAE,CAACsB,OAAO,EAAE,GAAGT,SAAS,GAAG,IAAI,CAAC;UACxE,IAAMhE,IAAI,GAAG,IAAI,gDAAI,CAACgB,KAAK,EAAEgE,MAAM,EAAEzE,KAAK,EAAE0E,cAAc,CAAC;UAC3D,IAAI,CAACjF,IAAI,CAACD,IAAI,CAACC,IAAI,CAAC;UACpB,IAAI,CAAC0E,UAAU,CAACV,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC;UACnCI,YAAY,CAACc,OAAO,CAAC,UAAU,EAAEhB,IAAI,CAACiB,SAAS,CAACnF,IAAI,CAAC,CAAC;QACxD;QAEA;MAAA;QAAA;QAAA,OACQ,qBAAYoF,QAA2B,EAAE;UAC/C,IAAIzD,YAAY,GAAG,2BAA2B;UAC9C,IAAI,CAACyD,QAAQ,CAACvE,KAAK,IAAI,CAACuE,QAAQ,CAACvE,KAAK,CAACA,KAAK,EAAE;YAC5C,OAAO,uDAAU,CAACc,YAAY,CAAC;;UAEjC,QAAQyD,QAAQ,CAACvE,KAAK,CAACA,KAAK,CAACmB,OAAO;YAClC,KAAK,cAAc;cACjBL,YAAY,GAAG,+BAA+B;cAC9C;YACF,KAAK,iBAAiB;cACpBA,YAAY,GAAG,6BAA6B;cAC5C;YACF,KAAK,kBAAkB;cACrBA,YAAY,GAAG,+BAA+B;cAC9C;UAAM;UAEV,OAAO,uDAAU,CAACA,YAAY,CAAC;QACjC;MAAC;MAAA;IAAA;;uBAjIU4B,WAAW;IAAA;;aAAXA,WAAW;MAAA,SAAXA,WAAW;IAAA;;;sEAAXA,WAAW;cADvB;;;;;;;;;;;;;;;;;;;;ICjBD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA,IAwBa8B,UAAU;MAAA;IAAA;;YAAVA;IAAW,CAAD;;;yBAAVA,UAAU;MAAA;MAAA,WAdV,CACT,wFAAmB,EACnB,qEAAa,EACb,8DAAW,EACX,0DAAS,EACT,+DAAc,EACd;QACEC,OAAO,EAAE,sEAAiB;QAC1BC,QAAQ,EAAE,qFAAsB;QAChCC,KAAK,EAAE;OACR;IACF;;;sEAGUH,UAAU;cAftB,sDAAQ;eAAC;UACR1F,SAAS,EAAE,CACT,wFAAmB,EACnB,qEAAa,EACb,8DAAW,EACX,0DAAS,EACT,+DAAc,EACd;YACE2F,OAAO,EAAE,sEAAiB;YAC1BC,QAAQ,EAAE,qFAAsB;YAChCC,KAAK,EAAE;WACR;SAEJ;;;;;;;;;;;;;;;;ICnBD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;;;QCMQ,wEACE;QAAA,wEAAyB;QAAA,kEAAO;QAAA,4DAAI;QACtC,4DAAK;;;;;QACL,wEACE;QAAA,wEAAuB;QAAA,2EAAe;QAAA,4DAAI;QAC5C,4DAAK;;;;;;QAYL,qEACE;QAAA,wEAAkD;QAAtB;UAAA;UAAA;UAAA;QAAA,EAAoB;QAAE,mEAAO;QAAA,4DAAI;QAC/D,4DAAK;;;;;;QAEL,yEACE;QAAA,wEACE;QAAA,mEAAO;QAAA,sEAA2B;QACpC,4DAAI;QACJ,yEACE;QAAA,qEACE;QAAA,wEACE;QAD0B;UAAA;UAAA;UAAA;QAAA,EAAsB;QAChD,sEACF;QAAA,4DAAI;QACN,4DAAK;QACL,qEACE;QAAA,wEACE;QAD0B;UAAA;UAAA;UAAA;QAAA,EAAuB;QACjD,wEACF;QAAA,4DAAI;QACN,4DAAK;QACP,4DAAK;QACP,4DAAK;;;QDnCAC,eAAe;MAK1B,yBACUC,kBAAsC,EACtC1G,WAAwB,EACxByB,MAAc;QAAA;QAFd,KAAAiF,kBAAkB,GAAlBA,kBAAkB;QAClB,KAAA1G,WAAW,GAAXA,WAAW;QACX,KAAAyB,MAAM,GAANA,MAAM;QANhB,KAAAkF,eAAe,GAAG,KAAK;MAOnB;MAAC;QAAA;QAAA,OAEL,oBAAQ;UAAA;UACN,IAAI,CAACC,OAAO,GAAG,IAAI,CAAC5G,WAAW,CAACgB,IAAI,CAACsB,SAAS,CAAC,UAAAtB,IAAI,EAAI;YACrD;YACA,MAAI,CAAC2F,eAAe,GAAG,CAAC,CAAC3F,IAAI;YAC7BwB,OAAO,CAACC,GAAG,CAAC,CAACzB,IAAI,CAAC;YAClBwB,OAAO,CAACC,GAAG,CAAC,CAAC,CAACzB,IAAI,CAAC;UACrB,CAAC,CAAC;QACJ;MAAC;QAAA;QAAA,OAED,sBAAa;UACX,IAAI,CAAC0F,kBAAkB,CAACG,YAAY,EAAE;QACxC;MAAC;QAAA;QAAA,OAED,uBAAc;UACZ,IAAI,CAACH,kBAAkB,CAACI,YAAY,EAAE,CAACxE,SAAS,EAAE;QACpD;MAAC;QAAA;QAAA,OAED,oBAAW;UACT,IAAI,CAACtC,WAAW,CAAC+F,MAAM,EAAE;UACzB,IAAI,CAACtE,MAAM,CAACiB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;QACjC;MAAC;QAAA;QAAA,OAED,uBAAW;UACT,IAAI,CAACkE,OAAO,CAAC7D,WAAW,EAAE;QAC5B;MAAC;MAAA;IAAA;;uBAnCU0D,eAAe;IAAA;;YAAfA,eAAe;MAAA;MAAA;MAAA;MAAA;MAAA;QAAA;UCX5B,yEACE;UAAA,yEACE;UAAA,yEACE;UAAA,uEAAiD;UAAA,sEAAW;UAAA,4DAAI;UAClE,4DAAM;UAEN,yEAEE;UAAA,wEACE;UAAA,yGACE;UAEF,yGACE;UAEF,wEACE;UAAA,wEAA+B;UAAA,yEAAa;UAAA,4DAAI;UAClD,4DAAK;UAKP,4DAAK;UAEL,yEAEE;UAAA,4GACE;UAGF,6GACE;UAgBJ,4DAAK;UAEP,4DAAM;UACR,4DAAM;UACR,4DAAM;;;UA1CgC,0DAAuB;UAAvB,qFAAuB;UAGvB,0DAAwB;UAAxB,sFAAwB;UAclD,0DAAuB;UAAvB,qFAAuB;UAIM,0DAAuB;UAAvB,qFAAuB;;;;;;;;sEDnBnDA,eAAe;cAJ3B,uDAAS;eAAC;UACTnG,QAAQ,EAAE,YAAY;UACtBC,WAAW,EAAE;SACd;;;;;;;;;;;;;;;;;;;;;;;;IEVD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA,IAGawG,cAAc;MAAA;QAAA;MAAA;MAAA;QAAA;QAAA,OAIzB,kBAAS/D,OAAe,EAAE;UACxBR,OAAO,CAACC,GAAG,CAACO,OAAO,CAAC;UACpBR,OAAO,CAACC,GAAG,CAAC,IAAI,CAACuE,OAAO,CAAC;UACzB,IAAI,CAACA,OAAO,GAAGhE,OAAO;QACxB;MAAC;MAAA;IAAA;;uBARU+D,cAAc;IAAA;;aAAdA,cAAc;MAAA,SAAdA,cAAc;IAAA;;;sEAAdA,cAAc;cAD1B;;;;;;;;;;;;;;;;ICFD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA,IAQaE,aAAa;MAmBxB,uBAAoBC,SAA8B,EAAE;QAAA;QAAhC,KAAAA,SAAS,GAATA,SAAS;QAlB7B,KAAAC,cAAc,GAAG,IAAI,4CAAO,EAAY;QAExC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACQ,KAAAC,OAAO,GAAa,EAAE;MAEuB;MAAC;QAAA;QAAA,OAEtD,oBAAWA,OAAiB,EAAE;UAC5B,IAAI,CAACA,OAAO,GAAGA,OAAO;UACtB,IAAI,CAACD,cAAc,CAACpG,IAAI,CAAC,IAAI,CAACqG,OAAO,CAACC,KAAK,EAAE,CAAC;QAChD;MAAC;QAAA;QAAA,OAED,sBAAa;UACX,OAAO,IAAI,CAACD,OAAO,CAACC,KAAK,EAAE;QAC7B;MAAC;QAAA;QAAA,OAED,mBAAUC,KAAa,EAAE;UACvB,OAAO,IAAI,CAACF,OAAO,CAACE,KAAK,CAAC;QAC5B;MAAC;QAAA;QAAA,OAED,sCAA6BC,WAAyB,EAAE;UACtD,IAAI,CAACL,SAAS,CAACM,cAAc,CAACD,WAAW,CAAC;QAC5C;MAAC;QAAA;QAAA,OAED,mBAAUE,MAAc,EAAE;UACxB,IAAI,CAACL,OAAO,CAACM,IAAI,CAACD,MAAM,CAAC;UACzB,IAAI,CAACN,cAAc,CAACpG,IAAI,CAAC,IAAI,CAACqG,OAAO,CAACC,KAAK,EAAE,CAAC;QAChD;MAAC;QAAA;QAAA,OAED,sBAAaC,KAAa,EAAEK,SAAiB,EAAE;UAC7C,IAAI,CAACP,OAAO,CAACE,KAAK,CAAC,GAAGK,SAAS;UAC/B,IAAI,CAACR,cAAc,CAACpG,IAAI,CAAC,IAAI,CAACqG,OAAO,CAACC,KAAK,EAAE,CAAC;QAChD;MAAC;QAAA;QAAA,OAED,sBAAaC,KAAa,EAAE;UAC1B,IAAI,CAACF,OAAO,CAACQ,MAAM,CAACN,KAAK,EAAE,CAAC,CAAC;UAC7B,IAAI,CAACH,cAAc,CAACpG,IAAI,CAAC,IAAI,CAACqG,OAAO,CAACC,KAAK,EAAE,CAAC;QAChD;MAAC;MAAA;IAAA;;uBAnDUJ,aAAa;IAAA;;aAAbA,aAAa;MAAA,SAAbA,aAAa;IAAA;;;sEAAbA,aAAa;cADzB;;;;;;;;;;;;;;;;;;;;ICPD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA,IAOaY,cAAc;MAKzB,0BAAc;QAAA;QAFJ,KAAAnE,KAAK,GAAG,IAAI,0DAAY,EAAQ;MAE1B;MAAC;QAAA;QAAA,OAEjB,oBAAW,CACX;MAAC;QAAA;QAAA,OAED,mBAAU;UACR,IAAI,CAACA,KAAK,CAACoE,IAAI,EAAE;QACnB;MAAC;MAAA;IAAA;;uBAZUD,cAAc;IAAA;;YAAdA,cAAc;MAAA;MAAA;QAAA;MAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;MAAA;QAAA;UCP3B,yEAAgD;UAA1B;YAAA,OAAS,IAAAE,OAAA,EAAS;UAAA,EAAC;UAAC,4DAAM;UAChD,yEACE;UAAA,oEAAI;UAAA,uDAAc;UAAA,4DAAI;UACtB,yEACE;UAAA,4EACE;UAD8B;YAAA,OAAS,IAAAA,OAAA,EAAS;UAAA,EAAC;UACjD,kEACF;UAAA,4DAAS;UACX,4DAAM;UACR,4DAAM;;;UANA,0DAAc;UAAd,uFAAc;;;;;;;sEDKPF,cAAc;cAL1B,uDAAS;eAAC;UACTvH,QAAQ,EAAE,WAAW;UACrBC,WAAW,EAAE,wBAAwB;UACrCC,SAAS,EAAE,CAAC,uBAAuB;SACpC;;;;;gBAGE;;;gBACA;;;;;;;;;;;;;;;;;IETH;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA,IAQawH,kBAAkB;MAC7B,4BACUxD,IAAgB,EAChByD,aAA4B,EAC5BjI,WAAwB;QAAA;QAFxB,KAAAwE,IAAI,GAAJA,IAAI;QACJ,KAAAyD,aAAa,GAAbA,aAAa;QACb,KAAAjI,WAAW,GAAXA,WAAW;MACjB;MAAC;QAAA;QAAA,OAEL,wBAAe;UACb,IAAMoH,OAAO,GAAG,IAAI,CAACa,aAAa,CAACC,UAAU,EAAE;UAC/C,IAAI,CAAC1D,IAAI,CAAC2D,GAAG,CAAC,gGAAgG,EAC5Gf,OAAO,CACR,CACE9E,SAAS,CAAC,UAAA8F,QAAQ,EAAI;YACrB5F,OAAO,CAACC,GAAG,CAAC2F,QAAQ,CAAC;UACvB,CAAC,CAAC;QACN;MAAC;QAAA;QAAA,OAED,wBAAe;UAAA;UACb,OAAO,IAAI,CAAC5D,IAAI,CAAC6D,GAAG,CAClB,gGAAgG,CACjG,CACEpH,IAAI,CACH,0DAAG,CAAC,UAAAmG,OAAO,EAAI;YACb,OAAOA,OAAO,CAACkB,GAAG,CAAC,UAAAb,MAAM,EAAI;cAC3B,OAAO,MAAP,0BACKA,MAAM;gBACTF,WAAW,EAAEE,MAAM,CAACF,WAAW,GAAGE,MAAM,CAACF,WAAW,GAAG;cAAE;YAE7D,CAAC,CAAC;UACJ,CAAC,CAAC,EACF,0DAAG,CAAC,UAAAH,OAAO,EAAI;YACb,MAAI,CAACa,aAAa,CAACM,UAAU,CAACnB,OAAO,CAAC;UACxC,CAAC,CAAC,CACH;QACL;MAAC;MAAA;IAAA;;uBAlCUY,kBAAkB;IAAA;;aAAlBA,kBAAkB;MAAA,SAAlBA,kBAAkB;MAAA,YADL;IAAO,CAAC,CAAC;;;sEACtBA,kBAAkB;cAD9B,wDAAU;eAAC;UAAEQ,UAAU,EAAE;QAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ICRlC;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA,IAKaC,iBAAiB;MAH9B;QAAA;QAI6B,KAAAC,MAAM,GAAG,KAAK;;MAK1C;QAAA;QAAA,OAHwB,sBAAa;UAClC,IAAI,CAACA,MAAM,GAAG,CAAC,IAAI,CAACA,MAAM;QAC5B;MAAC;MAAA;IAAA;;uBALUD,iBAAiB;IAAA;;YAAjBA,iBAAiB;MAAA;MAAA;MAAA;QAAA;;mBAAjB,gBAAY;UAAA;;;;;;;;;sEAAZA,iBAAiB;cAH7B,uDAAS;eAAC;UACTnI,QAAQ,EAAE;SACX;;;gBAEE,yDAAW;iBAAC,YAAY;;;gBAExB,0DAAY;iBAAC,OAAO;;;;;;;;;;;;;;;;;ICRvB;IAAA;IAAA;MAAA;IAAA;IAAA,IAAaqI,UAAU,6BACrB,oBAAmBC,IAAY,EAASC,MAAc,EAAE;MAAA;MAArC,KAAAD,IAAI,GAAJA,IAAI;MAAiB,KAAAC,MAAM,GAANA,MAAM;IAAW,CAAC;;;;;;;;;;;;ICD5D;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA,IAOaC,uBAAuB;MAAA;IAAA;;uBAAvBA,uBAAuB;IAAA;;YAAvBA,uBAAuB;MAAA;MAAA;MAAA;MAAA;MAAA;QAAA;UAHvB,oEAAiC;;;;;;;sEAGjCA,uBAAuB;cALnC,uDAAS;eAAC;UACTxI,QAAQ,EAAE,qBAAqB;UAC/ByI,QAAQ,uCAAqC;UAC7CvI,SAAS,EAAE,CAAC,iCAAiC;SAC9C;;;;;;;;;;;;;;;;ICND;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA,IAMawI,oBAAoB,6BAE/B,8BACS3F,gBAAkC;MAAA;MAAlC,KAAAA,gBAAgB,GAAhBA,gBAAgB;IACrB,CAAC;;uBAJM2F,oBAAoB;IAAA;;YAApBA,oBAAoB;MAAA;IAAA;;;sEAApBA,oBAAoB;cAJhC,uDAAS;eAAC;UACT1I,QAAQ,EAAE;SACX;;;;;;;;;;;;;;;;;;;;ICJD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA,IA0Ba2I,YAAY;MAAA;IAAA;;YAAZA;IAAa,CAAD;;;yBAAZA,YAAY;MAAA;MAAA,UAZd,CACP,4DAAY,CACb,EAMC,4DAAY;IAAA;;0HAIHA,YAAY;QAAA,eAjBrB,qEAAc,EACd,kGAAuB,EACvB,uFAAoB,EACpB,qEAAiB;QAAA,UAGjB,4DAAY;QAAA,UAGZ,qEAAc,EACd,kGAAuB,EACvB,uFAAoB,EACpB,qEAAiB,EACjB,4DAAY;MAAA;IAAA;;;sEAIHA,YAAY;cAnBxB,sDAAQ;eAAC;UACRvI,YAAY,EAAE,CACZ,qEAAc,EACd,kGAAuB,EACvB,uFAAoB,EACpB,qEAAiB,CAClB;UACDZ,OAAO,EAAE,CACP,4DAAY,CACb;UACDZ,OAAO,EAAE,CACP,qEAAc,EACd,kGAAuB,EACvB,uFAAoB,EACpB,qEAAiB,EACjB,4DAAY;SAEf;;;;;;;;;;;;;;;;ICxBD;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA,IAKagK,mBAAmB;MADhC;QAAA;QAEE,KAAAC,kBAAkB,GAAG,IAAI,4CAAO,EAAgB;QAChD,KAAAC,cAAc,GAAG,IAAI,4CAAO,EAAU;QAC9B,KAAA7B,WAAW,GAAiB,CAClC,IAAI,mEAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,EAC3B,IAAI,mEAAU,CAAC,UAAU,EAAE,EAAE,CAAC,CAC/B;;MAgCF;QAAA;QAAA,OA9BC,0BAAiB;UACf,OAAO,IAAI,CAACA,WAAW,CAACF,KAAK,EAAE;QACjC;MAAC;QAAA;QAAA,OAED,uBAAcC,KAAa,EAAE;UAC3B,OAAO,IAAI,CAACC,WAAW,CAACD,KAAK,CAAC;QAChC;MAAC;QAAA;QAAA,OAED,uBAAc+B,UAAsB,EAAE;UACpC,IAAI,CAAC9B,WAAW,CAACG,IAAI,CAAC2B,UAAU,CAAC;UACjC,IAAI,CAACF,kBAAkB,CAACpI,IAAI,CAAC,IAAI,CAACwG,WAAW,CAACF,KAAK,EAAE,CAAC;QACxD;MAAC;QAAA;QAAA,OAED,wBAAeE,WAAyB,EAAE;UAAA;UACxC;UACA;UACA;UACA,yBAAI,CAACA,WAAW,EAACG,IAAI,6CAAIH,WAAW,EAAC;UACrC,IAAI,CAAC4B,kBAAkB,CAACpI,IAAI,CAAC,IAAI,CAACwG,WAAW,CAACF,KAAK,EAAE,CAAC;QACxD;MAAC;QAAA;QAAA,OAED,0BAAiBC,KAAa,EAAEgC,aAAyB,EAAE;UACzD,IAAI,CAAC/B,WAAW,CAACD,KAAK,CAAC,GAAGgC,aAAa;UACvC,IAAI,CAACH,kBAAkB,CAACpI,IAAI,CAAC,IAAI,CAACwG,WAAW,CAACF,KAAK,EAAE,CAAC;QACxD;MAAC;QAAA;QAAA,OAED,0BAAiBC,KAAa,EAAE;UAC9B,IAAI,CAACC,WAAW,CAACK,MAAM,CAACN,KAAK,EAAE,CAAC,CAAC;UACjC,IAAI,CAAC6B,kBAAkB,CAACpI,IAAI,CAAC,IAAI,CAACwG,WAAW,CAACF,KAAK,EAAE,CAAC;QACxD;MAAC;MAAA;IAAA;;uBArCU6B,mBAAmB;IAAA;;aAAnBA,mBAAmB;MAAA,SAAnBA,mBAAmB;IAAA;;;sEAAnBA,mBAAmB;cAD/B;;;;;;;;;;;;;;;;ICJD;IAAA;IAAA;MAAA;IAAA;IAAA;IACA;IACA;IAEO,IAAMK,WAAW,GAAG;MACzBC,UAAU,EAAE,KAAK;MACjB9E,cAAc,EAAE;KACjB;IAED;;;;;;;IAOA;;;;;;;;;;;;;;IChBA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAMA,IAAI,qEAAW,CAAC8E,UAAU,EAAE;MAC1B,oEAAc,EAAE;;IAGlB,2EAAwB,CAACC,eAAe,CAAC,0DAAU,SAC3C,CAAC,UAAAC,GAAG;MAAA,OAAIlH,OAAO,CAACX,KAAK,CAAC6H,GAAG,CAAC;IAAA,EAAC","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule, PreloadAllModules } from '@angular/router';\n\nconst appRoutes: Routes = [\n  { path: '', redirectTo: '/recipes', pathMatch: 'full' },\n  // {\n  //   path: 'recipes',\n  //   loadChildren: () => import('./recipes/recipes.module').then(m => m.RecipesModule)\n  // },\n  {\n    path: 'recipes',\n    loadChildren: () => import('./recipes/recipes.module').then(m => m.RecipesModule)\n  },\n  {\n    path: 'shopping-list',\n    loadChildren: () => import('./shopping-list/shopping-list.module').then(m => m.ShoppingListModule)\n  },\n\n\n];\n\n@NgModule({\n  // imports: [RouterModule.forRoot(appRoutes, { preloadingStrategy: PreloadAllModules })],\n  imports: [RouterModule.forRoot(appRoutes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { LoggingService } from './logging.service';\nimport { AuthService } from './auth/auth.service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  loadedFeature = 'recipe';\n\n  constructor(\n    private authService: AuthService,\n    private loggingService: LoggingService\n  ) { }\n\n  ngOnInit(): void {\n    this.authService.autoLogin();\n    this.loggingService.printLog('Hello from AppComponent ngOnInit');\n  }\n\n  onNavigate(feature: string) {\n    this.loadedFeature = feature;\n  }\n}\n","<app-header></app-header>\n<!-- <app-header (featureSelected)=\"onNavigate($event)\"></app-header> -->\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n</div>\n","import { ShoppingListModule } from './shopping-list/shopping-list.module';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppComponent } from './app.component';\nimport { HeaderComponent } from './header/header.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AlertComponent } from './shared/alert/alert.component';\nimport { SharedModule } from './shared/shared.module';\nimport { CoreModule } from './core.module';\nimport { AuthModule } from './auth/auth.module';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HeaderComponent,\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpClientModule,\n    AppRoutingModule,\n    SharedModule,\n    CoreModule,\n    AuthModule,\n    // ShoppingListModule\n  ],\n  providers: [\n\n  ],\n  bootstrap: [AppComponent],\n  entryComponents: [\n    AlertComponent\n  ]\n})\nexport class AppModule { }\n","import { AuthService } from './auth.service';\r\nimport { HttpHandler, HttpInterceptor, HttpParams, HttpRequest } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { exhaustMap, take } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class AuthInterceptorService implements HttpInterceptor {\r\n\r\n  constructor(\r\n    private authService: AuthService\r\n  ) { }\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler) {\r\n    return this.authService.user.pipe(\r\n      take(1),\r\n      exhaustMap(user => {\r\n        if (!user) {\r\n          return next.handle(req);\r\n        }\r\n        const modifiedReq = req.clone({\r\n          params: new HttpParams().set('auth', user.token)\r\n        });\r\n        return next.handle(modifiedReq);\r\n      })\r\n    );\r\n  }\r\n\r\n}\r\n","import { Router } from '@angular/router';\nimport { Component, ComponentFactoryResolver, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Observable, Subscription } from 'rxjs';\n\nimport { AuthService, AuthResponseData } from './auth.service';\nimport { AlertComponent } from '../shared/alert/alert.component';\nimport { PlaceholderDirective } from '../shared/placeholder/placeholder.directive';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\nexport class AuthComponent implements OnInit, OnDestroy {\n  isLoginMode = true;\n  isLoading = false;\n  error: string = '';\n  @ViewChild(PlaceholderDirective, { static: true }) alertHost: PlaceholderDirective;\n\n  private closeSub: Subscription;\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private componentFactoryResolver: ComponentFactoryResolver\n  ) { }\n\n  ngOnInit() {\n  }\n\n  onSwitchMode() {\n    this.isLoginMode = !this.isLoginMode;\n  }\n\n  onSubmit(form: NgForm) {\n    // console.log(form.value);\n    if (!form.valid) {\n      return;\n    }\n    const email = form.value.email;\n    const password = form.value.password;\n\n    let authObs: Observable<AuthResponseData>;\n\n    this.isLoading = true;\n\n    if (this.isLoginMode) {\n      authObs = this.authService.login(email, password);\n    } else {\n      authObs = this.authService.signup(email, password);\n    }\n\n    authObs.subscribe(resData => {\n      console.log(resData);\n      this.isLoading = false;\n      this.router.navigate(['/recipes']);\n    }, errorMessage => {\n      console.log('error', errorMessage);\n      this.error = errorMessage;\n      this.showErrorAlert(errorMessage);\n      this.isLoading = false;\n\n    });\n    form.reset();\n  }\n\n  onHandleError() {\n    this.error = null;\n  }\n\n  ngOnDestroy() {\n    if (this.closeSub) {\n      this.closeSub.unsubscribe();\n    }\n  }\n\n  private showErrorAlert(message: string) {\n    const alertCmpFactory = this.componentFactoryResolver.resolveComponentFactory(\n      AlertComponent\n    );\n    const hostViewContainerRef = this.alertHost.viewContainerRef;\n    hostViewContainerRef.clear();\n\n    const componentRef = hostViewContainerRef.createComponent(alertCmpFactory);\n    componentRef.instance.message = message;\n    this.closeSub = componentRef.instance.close.subscribe(() => {\n      this.closeSub.unsubscribe();\n      hostViewContainerRef.clear();\n    });\n  }\n\n\n}\n","<div class=\"row\">\n  <div class=\"col-xs-12 col-md-6 col-md-offset-3\">\n\n    <!-- <div class=\"alert alert-danger\" *ngIf=\"error\">\n      <p> {{ error }} </p>\n    </div> -->\n\n    <!-- <app-alert [message]=\"error\"\n      *ngIf=\"error\"\n      (close)=\"onHandleError()\">\n    </app-alert> -->\n\n    <div *ngIf=\"isLoading\" style=\"text-align: center;\">\n      <app-loading-spinner></app-loading-spinner>\n    </div>\n\n    <form #authForm=\"ngForm\" (ngSubmit)=\"onSubmit(authForm)\" *ngIf=\"!isLoading\">\n\n      <div class=\"form-group\">\n        <label for=\"email\"> E-mail </label>\n        <input type=\"email\" id=\"email\" class=\"form-control\"\n          ngModel\n          name=\"email\"\n          required\n          email\n          />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"password\"> Password </label>\n        <input type=\"password\" id=\"password\" class=\"form-control\"\n          ngModel\n          name=\"password\"\n          required\n          minlength=\"6\"/>\n      </div>\n\n      <div>\n        <button class=\"btn btn-primary\" type=\"submit\" [disabled]=\"!authForm.valid\">\n          {{ isLoginMode ? 'Login' : 'Sign Up' }}\n        </button> |\n        <button class=\"btn\" type=\"button\" (click)=\"onSwitchMode()\">\n          Switch to {{ isLoginMode ? 'Sign Up' : 'Login' }}\n        </button>\n      </div>\n\n    </form>\n\n  </div>\n</div>\n\n<ng-template appPlaceholder></ng-template>\n","import { Injectable } from \"@angular/core\";\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from \"@angular/router\";\r\nimport { Observable } from \"rxjs\";\r\nimport { map, tap, take } from 'rxjs/operators';\r\n\r\nimport { AuthService } from './auth.service';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router,\r\n  ) { }\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): boolean |\r\n    UrlTree |\r\n    Observable<boolean | UrlTree> |\r\n    Promise<boolean | UrlTree> {\r\n    return this.authService.user.pipe(\r\n      take(1),\r\n      map(user => {\r\n        const isAuth = !!user;\r\n        if (isAuth) {\r\n          return true;\r\n        }\r\n        return this.router.createUrlTree(['/auth']);\r\n      })\r\n      // tap(isAuth => {\r\n      //   if (!isAuth) {\r\n      //     this.router.navigate(['/auth']);\r\n      //   }\r\n      // }))\r\n    );\r\n  }\r\n\r\n}\r\n","\r\nexport class User {\r\n  constructor(\r\n    public email: string,\r\n    public id: string,\r\n    private _token: string,\r\n    private _tokenExpiration: Date\r\n  ) { }\r\n\r\n  get token() {\r\n    if (!this._tokenExpiration || new Date() > this._tokenExpiration) {\r\n      return null;\r\n    }\r\n    return this._token;\r\n  }\r\n\r\n\r\n\r\n}\r\n","import { RouterModule } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from \"@angular/core\";\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { AuthComponent } from \"./auth.component\";\r\nimport { CoreModule } from '../core.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AuthComponent\r\n  ],\r\n  imports: [\r\n    CoreModule,\r\n    SharedModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild([\r\n      { path: 'auth', component: AuthComponent },\r\n    ]),\r\n  ],\r\n\r\n})\r\nexport class AuthModule { }\r\n","import { User } from './auth.model';\r\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { throwError, Subject, BehaviorSubject } from 'rxjs';\r\nimport { catchError, tap } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nexport interface AuthResponseData {\r\n  kind: string;\r\n  idToken: string;\r\n  email: string;\r\n  refreshToken: string;\r\n  expiresIn: string;\r\n  localId: string;\r\n  registered?: boolean;\r\n}\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n\r\n  user = new BehaviorSubject<User>(null);\r\n  private tokenExpirationTimer: any;\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  // 注册\r\n  signup(email: string, password: string) {\r\n    return this.http.post<AuthResponseData>(\r\n      'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=' + environment.firebaseAPIKey,\r\n      {\r\n        email: email,\r\n        password: password,\r\n        returnSecureToken: true\r\n      }\r\n    )\r\n      .pipe(\r\n        catchError(this.handleError),\r\n        tap(resData => {\r\n          this.handleAuthentication(\r\n            resData.email,\r\n            resData.localId,\r\n            resData.idToken,\r\n            +resData.expiresIn\r\n          );\r\n        })\r\n      );\r\n  }\r\n\r\n  // 登录\r\n  login(email: string, password: string) {\r\n    return this.http.post<AuthResponseData>('https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=' + environment.firebaseAPIKey,\r\n      {\r\n        email: email,\r\n        password: password,\r\n        returnSecureToken: true\r\n      }\r\n    )\r\n      .pipe(\r\n        catchError(this.handleError),\r\n        tap(resData => {\r\n          this.handleAuthentication(\r\n            resData.email,\r\n            resData.localId,\r\n            resData.idToken,\r\n            +resData.expiresIn\r\n          );\r\n        }));\r\n  }\r\n\r\n  // 刷新页面时保持用户账号信息不被清空\r\n  autoLogin() {\r\n    const userData: {\r\n      email: string;\r\n      id: string;\r\n      _token: string;\r\n      _tokenExpirationData: string;\r\n    } = JSON.parse(localStorage.getItem('userData'));\r\n\r\n    if (!userData) {\r\n      return;\r\n    }\r\n\r\n    const loaderUser = new User(\r\n      userData.email,\r\n      userData.id,\r\n      userData._token,\r\n      new Date(userData._tokenExpirationData)\r\n    )\r\n\r\n    if (loaderUser.token) {\r\n      this.user.next(loaderUser);\r\n      const expirationDuration = new Date(userData._tokenExpirationData).getTime() - new Date().getTime();\r\n      this.autoLogout(expirationDuration);\r\n    }\r\n  }\r\n\r\n  // 注销\r\n  logout() {\r\n    this.user.next(null);\r\n    localStorage.removeItem('userData');\r\n    if (this.tokenExpirationTimer) {\r\n      clearTimeout(this.tokenExpirationTimer);\r\n    }\r\n    this.tokenExpirationTimer = null;\r\n  }\r\n\r\n  // 超时自动注销用户\r\n  autoLogout(expirationDuration: number) {\r\n    console.log(expirationDuration)\r\n    this.tokenExpirationTimer = setTimeout(() => {\r\n      this.logout();\r\n    }, expirationDuration)\r\n  }\r\n\r\n  private handleAuthentication(\r\n    email: string,\r\n    userId: string,\r\n    token: string,\r\n    expiresIn: number\r\n  ) {\r\n    const expirationDate = new Date(new Date().getTime() + expiresIn * 1000);\r\n    const user = new User(email, userId, token, expirationDate);\r\n    this.user.next(user);\r\n    this.autoLogout(expiresIn * 1000); //超时自动注销用户\r\n    localStorage.setItem('userData', JSON.stringify(user));\r\n  }\r\n\r\n  // 登录账号密码错误时的提示信息\r\n  private handleError(errorRes: HttpErrorResponse) {\r\n    let errorMessage = 'An unknown error occured!'\r\n    if (!errorRes.error || !errorRes.error.error) {\r\n      return throwError(errorMessage)\r\n    }\r\n    switch (errorRes.error.error.message) {\r\n      case 'EMAIL_EXISTS':\r\n        errorMessage = 'This email is exists already.';\r\n        break;\r\n      case 'EMAIL_NOT_FOUND':\r\n        errorMessage = 'This email does not exists.';\r\n        break;\r\n      case 'INVALID_PASSWORD':\r\n        errorMessage = 'This password is not correct.';\r\n        break;\r\n    }\r\n    return throwError(errorMessage);\r\n  }\r\n\r\n}\r\n","import { HTTP_INTERCEPTORS } from \"@angular/common/http\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { AuthInterceptorService } from \"./auth/auth-interceptor.service\";\r\nimport { AuthGuard } from \"./auth/auth.guard\";\r\nimport { AuthService } from \"./auth/auth.service\";\r\nimport { LoggingService } from \"./logging.service\";\r\nimport { RecipeService } from \"./recipes/recipe.service\";\r\nimport { ShoppingListService } from \"./shopping-list/shopping-list.service\";\r\n\r\n@NgModule({\r\n  providers: [\r\n    ShoppingListService,\r\n    RecipeService,\r\n    AuthService,\r\n    AuthGuard,\r\n    LoggingService,\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: AuthInterceptorService,\r\n      multi: true\r\n    },\r\n  ]\r\n})\r\n\r\nexport class CoreModule { }\r\n","import { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { AuthService } from './../auth/auth.service';\nimport { Component } from '@angular/core';\n\nimport { DataStorageService } from '../shared/data-storage.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html'\n})\nexport class HeaderComponent {\n\n  isAuthenticated = false;\n  private userSub: Subscription;\n\n  constructor(\n    private dataStorageService: DataStorageService,\n    private authService: AuthService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.userSub = this.authService.user.subscribe(user => {\n      // this.isAuthenticated = !user ? false : true; 用下面的写法代替\n      this.isAuthenticated = !!user;\n      console.log(!user);\n      console.log(!!user);\n    });\n  }\n\n  onSaveData() {\n    this.dataStorageService.storeRecipes();\n  }\n\n  onFetchData() {\n    this.dataStorageService.fetchRecipes().subscribe();\n  }\n\n  onLogout() {\n    this.authService.logout();\n    this.router.navigate(['/auth']);\n  }\n\n  ngOnDestroy(): void {\n    this.userSub.unsubscribe();\n  }\n\n\n}\n","<nav class=\"navbar navbar-collapse\">\n  <div class=\"container-fluid\">\n    <div class=\"navbar-header\">\n      <a style=\"cursor: pointer;\" class=\"navbar-brand\">Recipe Book</a>\n    </div>\n\n    <div class=\"collapse navbar-collapse\">\n\n      <ul class=\"nav navbar-nav\">\n        <li routerLinkActive=\"active\" *ngIf=\"isAuthenticated\">\n          <a routerLink=\"/recipes\">Recipes</a>\n        </li>\n        <li routerLinkActive=\"active\" *ngIf=\"!isAuthenticated\">\n          <a routerLink=\"/auth\"> Authentication </a>\n        </li>\n        <li routerLinkActive=\"active\">\n          <a routerLink=\"/shopping-list\">Shopping List</a>\n        </li>\n\n\n        <!-- <li><a href=\"#\" (click)=\"onSelect('recipe')\">Recipes</a></li>\n        <li><a href=\"#\" (click)=\"onSelect('shopping-list')\">Shopping List</a></li> -->\n      </ul>\n\n      <ul class=\"nav navbar-nav navbar-right\">\n\n        <li *ngIf=\"isAuthenticated\">\n          <a style=\"cursor: pointer;\" (click)=\"onLogout()\"> Logout </a>\n        </li>\n\n        <li class=\"dropdown\" appDropdown *ngIf=\"isAuthenticated\">\n          <a style=\"cursor: pointer;\" class=\"dropdown-toggle\" roll=\"button\">\n            Manage <span class=\"caret\"></span>\n          </a>\n          <ul class=\"dropdown-menu\">\n            <li>\n              <a style=\"cursor: pointer;\" (click)=\"onSaveData()\">\n                Save Data\n              </a>\n            </li>\n            <li>\n              <a style=\"cursor: pointer;\" (click)=\"onFetchData()\">\n                Fetch Data\n              </a>\n            </li>\n          </ul>\n        </li>\n      </ul>\n\n    </div>\n  </div>\n</nav>\n","import { Injectable } from \"@angular/core\";\n\r\n@Injectable()\nexport class LoggingService {\r\n\r\n  lastlog: string;\r\n\r\n  printLog(message: string) {\r\n    console.log(message);\r\n    console.log(this.lastlog);\r\n    this.lastlog = message;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nimport { Recipe } from './recipe.model';\nimport { Ingredient } from '../shared/ingredient.model';\nimport { ShoppingListService } from '../shopping-list/shopping-list.service';\n\n@Injectable()\nexport class RecipeService {\n  recipesChanged = new Subject<Recipe[]>();\n\n  // private recipes: Recipe[] = [\n  //   new Recipe(\n  //     'Tasty Schnitzel',\n  //     'A super-tasty Schnitzel - just awesome!',\n  //     'https://upload.wikimedia.org/wikipedia/commons/7/72/Schnitzel.JPG',\n  //     [new Ingredient('Meat', 1), new Ingredient('French Fries', 20)]\n  //   ),\n  //   new Recipe(\n  //     'Big Fat Burger',\n  //     'What else you need to say?',\n  //     'https://upload.wikimedia.org/wikipedia/commons/b/be/Burger_King_Angus_Bacon_%26_Cheese_Steak_Burger.jpg',\n  //     [new Ingredient('Buns', 2), new Ingredient('Meat', 1)]\n  //   )\n  // ];\n  private recipes: Recipe[] = [];\n\n  constructor(private slService: ShoppingListService) {}\n\n  setRecipes(recipes: Recipe[]) {\n    this.recipes = recipes;\n    this.recipesChanged.next(this.recipes.slice());\n  }\n\n  getRecipes() {\n    return this.recipes.slice();\n  }\n\n  getRecipe(index: number) {\n    return this.recipes[index];\n  }\n\n  addIngredientsToShoppingList(ingredients: Ingredient[]) {\n    this.slService.addIngredients(ingredients);\n  }\n\n  addRecipe(recipe: Recipe) {\n    this.recipes.push(recipe);\n    this.recipesChanged.next(this.recipes.slice());\n  }\n\n  updateRecipe(index: number, newRecipe: Recipe) {\n    this.recipes[index] = newRecipe;\n    this.recipesChanged.next(this.recipes.slice());\n  }\n\n  deleteRecipe(index: number) {\n    this.recipes.splice(index, 1);\n    this.recipesChanged.next(this.recipes.slice());\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-alert',\n  templateUrl: './alert.component.html',\n  styleUrls: ['./alert.component.css']\n})\nexport class AlertComponent implements OnInit {\n\n  @Input() message: string;\n  @Output() close = new EventEmitter<void>();\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  onClose() {\n    this.close.emit();\n  }\n\n}\n","<div class=\"backdrop\" (click)=\"onClose()\"></div>\n<div class=\"alert-box\">\n  <p> {{ message }} </p>\n  <div class=\"alert-box-actions\">\n    <button class=\"btn btn-primary\" (click)=\"onClose()\">\n      close\n    </button>\n  </div>\n</div>\n","import { AuthService } from './../auth/auth.service';\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { exhaustMap, map, take, tap } from 'rxjs/operators';\n\nimport { Recipe } from '../recipes/recipe.model';\nimport { RecipeService } from '../recipes/recipe.service';\n\n@Injectable({ providedIn: 'root' })\nexport class DataStorageService {\n  constructor(\n    private http: HttpClient,\n    private recipeService: RecipeService,\n    private authService: AuthService\n  ) { }\n\n  storeRecipes() {\n    const recipes = this.recipeService.getRecipes();\n    this.http.put('https://ng-complete-guide-d00f7-default-rtdb.asia-southeast1.firebasedatabase.app/recepes.json',\n      recipes\n    )\n      .subscribe(response => {\n        console.log(response);\n      });\n  }\n\n  fetchRecipes() {\n    return this.http.get<Recipe[]>(\n      'https://ng-complete-guide-d00f7-default-rtdb.asia-southeast1.firebasedatabase.app/recepes.json'\n    )\n      .pipe(\n        map(recipes => {\n          return recipes.map(recipe => {\n            return {\n              ...recipe,\n              ingredients: recipe.ingredients ? recipe.ingredients : []\n            };\n          });\n        }),\n        tap(recipes => {\n          this.recipeService.setRecipes(recipes);\n        })\n      )\n  }\n\n}\n","import { Directive, HostListener, HostBinding } from '@angular/core';\n\n@Directive({\n  selector: '[appDropdown]'\n})\nexport class DropdownDirective {\n  @HostBinding('class.open') isOpen = false;\n\n  @HostListener('click') toggleOpen() {\n    this.isOpen = !this.isOpen;\n  }\n}\n","export class Ingredient {\n  constructor(public name: string, public amount: number) {}\n}\n","import { Component } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: 'app-loading-spinner',\r\n  template: `<div class=\"lds-hourglass\"></div>`,\r\n  styleUrls: ['./loading-spinner.component.css']\r\n})\r\nexport class LoadingSpinnerComponent {\r\n\r\n}\r\n","import { Directive, ViewContainerRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n  selector: '[appPlaceholder]'\r\n})\r\n\r\nexport class PlaceholderDirective {\r\n\r\n  constructor(\r\n    public viewContainerRef: ViewContainerRef\r\n  ) { }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { DropdownDirective } from './dropdown.directive';\r\nimport { PlaceholderDirective } from './placeholder/placeholder.directive';\r\nimport { AlertComponent } from './alert/alert.component';\r\nimport { NgModule } from \"@angular/core\";\r\nimport { LoadingSpinnerComponent } from './loading-spinner/loading-spinner.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AlertComponent,\r\n    LoadingSpinnerComponent,\r\n    PlaceholderDirective,\r\n    DropdownDirective\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n  ],\r\n  exports: [\r\n    AlertComponent,\r\n    LoadingSpinnerComponent,\r\n    PlaceholderDirective,\r\n    DropdownDirective,\r\n    CommonModule\r\n  ]\r\n})\r\n\r\nexport class SharedModule { }\r\n","import { Ingredient } from '../shared/ingredient.model';\nimport { Subject } from 'rxjs';\nimport { Injectable } from \"@angular/core\";\n\n@Injectable()\nexport class ShoppingListService {\n  ingredientsChanged = new Subject<Ingredient[]>();\n  startedEditing = new Subject<number>();\n  private ingredients: Ingredient[] = [\n    new Ingredient('Apples', 5),\n    new Ingredient('Tomatoes', 10),\n  ];\n\n  getIngredients() {\n    return this.ingredients.slice();\n  }\n\n  getIngredient(index: number) {\n    return this.ingredients[index];\n  }\n\n  addIngredient(ingredient: Ingredient) {\n    this.ingredients.push(ingredient);\n    this.ingredientsChanged.next(this.ingredients.slice());\n  }\n\n  addIngredients(ingredients: Ingredient[]) {\n    // for (let ingredient of ingredients) {\n    //   this.addIngredient(ingredient);\n    // }\n    this.ingredients.push(...ingredients);\n    this.ingredientsChanged.next(this.ingredients.slice());\n  }\n\n  updateIngredient(index: number, newIngredient: Ingredient) {\n    this.ingredients[index] = newIngredient;\n    this.ingredientsChanged.next(this.ingredients.slice());\n  }\n\n  deleteIngredient(index: number) {\n    this.ingredients.splice(index, 1);\n    this.ingredientsChanged.next(this.ingredients.slice());\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  firebaseAPIKey: 'AIzaSyBKTezZUKwh03tnZiB4z_cOXows3IdOeoA'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}